{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{{ url_for('static', filename='home.css') }}">
{% endblock %}

{% block content %}
<div class="min-h-screen py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-3xl mx-auto">
    <!-- Main menu -->
    <div id="menu" class="glass-effect rounded-lg shadow-lg p-6 mb-8">
      <button class="btn-menu" id="adventurebtn">Adventure</button>
      <a href="/game?fight=fight_1&amp;rush=true" class="btn-menu">Rush</a>
      <button class="btn-menu" id="multibtn">Multiplayer</button>
      <button class="btn-menu" id="settingsbtn">Settings</button>
      <button class="btn-menu" id="achievmentsbtn">Achievments</button>
    </div>

    <!-- Level list (initially hidden) -->
    <div id="levelList" class="glass-effect rounded-lg shadow-lg p-6 mb-8 hidden">
      <h2 class="text-xl font-bold mb-4">Choose your level:</h2>
      <ul class="space-y-2">
        <li><a href="/game?fight=fight_1" class="btn-menu">Level 1</a></li>

        <li><a href="/game?fight=fight_2" class="btn-menu">Level 2</a></li>

        <li><a href="/game?fight=fight_3" class="btn-menu">Level 3</a></li>

        <li><a href="/game?fight=fight_4" class="btn-menu">Level 4</a></li>
        <!-- Add more levels as needed -->
      </ul>
      <button class="btn-menu mt-4" id="backbtn1">Back</button>
    </div>

    <div id="Multiplayer" class="glass-effect rounded-lg shadow-lg p-6 mb-8 hidden">
      <h2 class="text-xl font-bold mb-4">Choose your mode:</h2>
      <ul class="space-y-2">
        <li><a href="/game?fight=world_boss" class="btn-menu">World Boss</a></li>
        <li><a href="/game?fight=fight_2" class="btn-menu">Create Lobby</a></li>
        <li><a href="/game?fight=fight_2" class="btn-menu">Join Lobby</a></li>
        <!-- Add more levels as needed -->
      </ul>
      <button class="btn-menu mt-4" id="backbtn2">Back</button>
    </div>

    <div id="Settings" class="glass-effect rounded-lg shadow-lg p-6 mb-8 hidden">
      <h2 class="text-xl font-bold mb-4">Difficulty:</h2>
      <ul class="space-y-2">
        <li><button onclick="set_easy()" value="easy" class="btn-menu">Easy</button></li>
        <li><button onclick="set_medium()" value="medium" class="btn-menu">Medium</button></li>
        <li><button onclick="set_hard()" value="hard" class="btn-menu">Hard</button></li>
        <li><button onclick="set_inferno()" value="inferno" class="btn-menu">Inferno</button></li>
      </ul>
      <button class="btn-menu mt-4" id="backbtn3">Back</button>
    </div>

    <div id="Achievments" class="glass-effect rounded-lg shadow-lg p-6 mb-8 hidden">
      <h2 class="text-xl font-bold mb-4">Here yours Achievments</h2>
      <ul class="space-y-2">
        <li><a href="/game?fight=fight_1" class="btn-menu">Welcome to WorldEnderWord</a></li>
        <!-- Add more levels as needed -->
      </ul>
      <button class="btn-menu mt-4" id="backbtn4">Back</button>
    </div>
  </div>
</div>

<script>
  document.getElementById("adventurebtn").addEventListener("click", function () {
    document.getElementById("menu").classList.add("hidden");
    document.getElementById("levelList").classList.remove("hidden");
  });

  document.getElementById("backbtn1").addEventListener("click", function () {
    document.getElementById("levelList").classList.add("hidden");
    document.getElementById("menu").classList.remove("hidden");
  });

  document.getElementById("multibtn").addEventListener("click", function () {
    document.getElementById("menu").classList.add("hidden");
    document.getElementById("Multiplayer").classList.remove("hidden");
  });

  document.getElementById("backbtn2").addEventListener("click", function () {
    document.getElementById("Multiplayer").classList.add("hidden");
    document.getElementById("menu").classList.remove("hidden");
  });

  document.getElementById("settingsbtn").addEventListener("click", function () {
    document.getElementById("menu").classList.add("hidden");
    document.getElementById("Settings").classList.remove("hidden");
  });

  document.getElementById("backbtn3").addEventListener("click", function () {
    document.getElementById("Settings").classList.add("hidden");
    document.getElementById("menu").classList.remove("hidden");
  });

  document.getElementById("achievmentsbtn").addEventListener("click", function () {
    document.getElementById("menu").classList.add("hidden");
    document.getElementById("Achievments").classList.remove("hidden");
  });

  document.getElementById("backbtn4").addEventListener("click", function () {
    document.getElementById("Achievments").classList.add("hidden");
    document.getElementById("menu").classList.remove("hidden");
  });

  // Difficulty setting functions
  function set_easy() {
    fetch('/set_easy', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ easy: true })
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        alert('Difficulty set to Easy');
      } else {
        alert('Failed to set difficulty');
      }
    })
    .catch(error => {
      alert('Error setting difficulty');
      console.error('Error:', error);
    });
  }

  function set_medium() {
    fetch('/set_medium', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ medium: true })
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        alert('Difficulty set to Medium');
      } else {
        alert('Failed to set difficulty');
      }
    })
    .catch(error => {
      alert('Error setting difficulty');
      console.error('Error:', error);
    });
  }

  function set_hard() {
    fetch('/set_hard', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ hard: true })
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        alert('Difficulty set to Hard');
      } else {
        alert('Failed to set difficulty');
      }
    })
    .catch(error => {
      alert('Error setting difficulty');
      console.error('Error:', error);
    });
  }

  function set_inferno() {
    fetch('/set_inferno', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ inferno: true })
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        alert('Difficulty set to Inferno');
      } else {
        alert('Failed to set difficulty');
      }
    })
    .catch(error => {
      alert('Error setting difficulty');
      console.error('Error:', error);
    });
  }
</script>
{% endblock %}
